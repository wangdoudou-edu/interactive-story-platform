# AI-LOP 项目设计需求文档 (Design Brief)

这份文档旨在为 UI/UX 设计师提供 AI-LOP (AI-enabled Learning Orchestration Platform) 的项目背景、功能结构和交互优化目标。

## 1. 项目概况

**AI-LOP** 是一个支持 **教师-学生-AI** 三方协作的互动叙事设计学习平台。
核心理念是 **T-S-AIs (Teacher-Student-AIs)** 共创框架，学生在多 AI 的辅助下完成互动故事的设计。

*   **线上演示地址**: http://122.152.228.48
*   **测试账号**:
    *   学生: `student` / `student123`
    *   教师: `teacher` / `teacher123`

## 2. 核心用户角色与流程

### 👨‍🎓 学生 (核心用户)
*   **目标**: 通过与 AI 协作，完成从灵感到故事草稿的创作过程。
*   **核心路径**:
    1.  **登录**: 进入平台。
    2.  **创建/选择项目**: 开始一个新的叙事设计任务。
    3.  **多 AI 协作**: 选择不同的 AI 模型（如 GPT-4, Claude 等）进行对话，获取灵感。
    4.  **任务流引导**: 跟随系统设定的 7 步引导（概念 -> 世界观 -> 角色 -> 情节 -> 交互 -> 对话 -> 整合）进行思考。
    5.  **知识抓取 (Dialogue-to-Outcome)**:
        *   在聊天记录中选中关键信息。
        *   高亮标记并添加“笔记” (Note)。
    6.  **草稿撰写**: 将笔记拖拽或引用到“草稿箱” (Draft Panel)，整理成结构化的设计文档。

### 👨‍🏫 教师 (管理者/引导者)
*   **目标**: 监控学生进度，并在适当时机进行干预和指导。
*   **核心路径**:
    1.  **仪表盘监控**: 查看全班学生的活跃度、AI 使用比例。
    2.  **进度追踪**: 查看具体学生的任务完成情况（任务流进度条）。
    3.  **干预指导**: 直接向学生发送指导信息（Intervention）。

## 3. 页面结构与功能模块

### 3.1 核心工作台 (ChatPage)
这是学生停留时间最长的页面，布局较为复杂，需要重点优化交互体验。

**布局结构**:
*   **顶部栏 (Header)**: logo、侧边栏开关、任务流开关、个人信息、退出。
*   **左侧边栏 (Chat Sidebar)**: 历史对话列表、新建对话按钮。
*   **任务流面板 (Task Flow Panel)**: (可折叠) 显示当前所处的任务阶段（如 3/7 角色设计），提供任务指引。
*   **中央对话区 (Chat Area)**:
    *   多 AI 消息流。
    *   富文本输入框 (支持文件上传)。
    *   **交互重点**: 选中文字后的高亮/批注菜单 (Tooltip Menu)。

#### 3.1.1 核心交互详解：对话区的深度操作 (Deep Interactions)
这是本产品的**灵魂功能**，请设计师重点关注以下交互细节：

1.  **AI 回答的“高亮与批注” (Highlight & Annotate)**
    *   **触发方式**: 学生在 *AI 回答的消息气泡* 中选中一段文字。
    *   **交互反馈**: 鼠标松开后，立即在选中文字上方悬浮一个**快捷菜单 (Tooltip Toolbar)**。
    *   **菜单功能按钮**:
        *   `📌 知识点 (Knowledge)`: 点击后高亮该段落（建议高亮色：黄色），并**自动**将该段文字复制到右侧的“笔记面板”。
        *   `🗑️ 删除 (Delete)`: 标记该段落为“废弃”或“不采纳”（建议样式：删除线或灰色背景）。
        *   `💬 批注 (Comment)`: 包含一组图标（❓ 疑问, 💡 灵感, 🤔 提问, 📝 备注）。点击后可输入自定义文字备注。
    *   **视觉状态**: 被标记的文字需要有持久的视觉样式（下划线、背景色、行间小图标），以区分不同类型的标记。

2.  **从对话到草稿的“整理” (Organize to Draft)**
    *   **触发方式**: 当一条 AI 消息被标记过（有 Knowledge 或 Comment）后，该消息气泡的右上角会出现一个 **"📋 整理 (Organize)"** 按钮。
    *   **交互逻辑**: 点击按钮，将该消息中 *所有被标记的精华内容* 提取出来，自动填充到右侧的“草稿面板”中。
    *   **设计目标**: 让用户感觉到“从杂乱的对话中提炼出了结构化的成果”。

3.  **多模态输入**
    *   支持上传图片、PDF、Word 文档。
    *   文件在输入框中以卡片形式预览，发送后在气泡中显示缩略图或链接。

4.  **多 AI 身份识别**
    *   不同的 AI 模型（GPT-4, Claude 3, DeepSeek 等）需要有 **鲜明的头像和主题色** 区分。
    *   例如：Gemini (蓝), OpenAI (绿), DeepSeek (紫)。

*   **右侧面板 (Side Panels)**: (可折叠)
    *   **笔记面板 (NotePanel)**: 存放从对话中抓取的高亮片段。
    *   **草稿面板 (DraftPanel)**: 富文本编辑器，用于撰写最终成果。

### 3.2 教师仪表盘 (Teacher Dashboard)
*   **学生列表**: 展示学生状态（在线/离线/空闲）。
*   **数据可视化**: AI 贡献度饼图、互动频率折线图。
*   **详情弹窗**: 点击学生可查看其具体对话和草稿。

### 3.3 登录页 (Login Page)
*   简洁、现代的登录界面。

## 4. 设计优化目标 (Design Goals)

请针对以下痛点进行视觉和交互优化：

1.  **复杂布局的清晰度**: 工作台同时包含对话、任务引导、笔记、草稿四个功能区，容易显得拥挤。
    *   *需求*: 设计更优雅的分栏布局或折叠交互，确保学生在不同阶段能聚焦重点。
2.  **"对话转成果"的流畅感**: 从“聊天”到“笔记”再到“草稿”的信息流转是核心。
    *   *需求*: 优化文本选中后的浮动菜单、笔记添加到草稿的交互（如拖拽效果）。
3.  **多 AI 的区分**: 系统支持多个 AI 模型。
    *   *需求*: 用视觉元素（头像、颜色、卡片样式）清晰区分不同 AI 的发言。
4.  **任务流的引导性**: 7 步任务流不仅仅是进度条。
    *   *需求*: 让任务面板更像是一个“导师”，提供清晰的当前步骤目标，而不是死板的 checklist。
5.  **整体美学**:
    *   风格: 现代、科技感、教育（不应太娱乐化，保持专注）。
    *   参考: Notion, Discord, 一般的 IDE 或 Copilot 界面。

## 5. 现有资源 (Assets)

*   **Logo/Icon**: 目前使用 Emoji (🤖)，需要更专业的图标。
*   **字体**: 目前使用系统默认，建议定义统一字体栈。
*   **配色**: 目前尚未定义严格的 Design System，请自由发挥建立规范。

---
*Generated by AI-LOP Development Team*
